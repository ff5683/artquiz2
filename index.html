import React, { useState, useEffect } from 'react';
import { Sparkles, Palette, Brush, ChevronRight, RefreshCcw, Award, Heart, Info } from 'lucide-react';

const questions = [
  {
    type: 'concept',
    category: 'ì¸ìƒì£¼ì˜',
    question: "í–‡ë¹›ì´ ì¨ì¨í•œ ë‚ , ì‹œì‹œê°ê° ë³€í•˜ëŠ” ë¹›ì˜ ìƒ‰ê¹”ì„ ê·¸ëŒ€ë¡œ ë‹´ê³  ì‹¶ì–´ í–ˆë˜ í™”ê°€ë“¤ì´ ìˆì—ˆì–´ìš”. 'ì¸ìƒ: í•´ë‹ì´'ë¼ëŠ” ì‘í’ˆ ì œëª©ì—ì„œ ì´ë¦„ì´ ë”°ì˜¨ ì´ ì‚¬ì¡°ëŠ” ë­˜ê¹Œìš”?",
    options: ["ì¸ìƒì£¼ì˜", "í‘œí˜„ì£¼ì˜", "ì…ì²´ì£¼ì˜", "í›„ê¸°ì¸ìƒì£¼ì˜"],
    answer: 0,
    hint: "ìˆœê°„ì˜ 'ì¸ìƒ'ì„ í¬ì°©í•˜ëŠ” ê²Œ ê°€ì¥ ì¤‘ìš”í–ˆì–´ìš”!",
    rationale: "ì¸ìƒì£¼ì˜ í™”ê°€ë“¤ì€ ê³ ì •ëœ ìƒ‰ ëŒ€ì‹  ë¹›ì— ì˜í•´ ê³„ì† ë³€í•˜ëŠ” ì°°ë‚˜ì˜ ìƒ‰ì±„ë¥¼ ê·¸ë ¸ë‹µë‹ˆë‹¤."
  },
  {
    type: 'image',
    category: 'ì¸ìƒì£¼ì˜',
    image: "https://upload.wikimedia.org/wikipedia/commons/d/d3/Claude_Monet%2C_Rouen_Cathedral%2C_West_Fa%C3%A7ade%2C_Sunlight%2C_1894.jpg",
    question: "ì´ ê·¸ë¦¼ì€ ê°™ì€ ì„±ë‹¹ì„ ì•„ì¹¨, ë‚®, ì €ë…ë§ˆë‹¤ ë‹¤ë¥´ê²Œ ê·¸ë¦° ì—°ì‘ ì¤‘ í•˜ë‚˜ì˜ˆìš”. ë¹›ì˜ ë§ˆë²•ì‚¬ë¼ê³  ë¶ˆë¦¬ëŠ” ì´ ì‘ê°€ëŠ” ëˆ„êµ¬ì¼ê¹Œìš”?",
    options: ["ë¹ˆì„¼íŠ¸ ë°˜ ê³ í", "í´ë¡œë“œ ëª¨ë„¤", "íŒŒë¸”ë¡œ í”¼ì¹´ì†Œ", "ì—ë“œë°”ë¥´ ë­‰í¬"],
    answer: 1,
    hint: "ì¸ìƒì£¼ì˜ì˜ ì‹œì‘ì„ ì•Œë¦° ì•„ì£¼ ìœ ëª…í•œ ë¶„ì´ì—ìš”.",
    rationale: "í´ë¡œë“œ ëª¨ë„¤ëŠ” ë£¨ì•™ ëŒ€ì„±ë‹¹ì„ ì‹œê°„ì— ë”°ë¼ ë‹¤ë¥´ê²Œ ê·¸ë¦¬ëŠ” ì—°ì‘ì„ í†µí•´ ë¹›ì˜ ë³€í™”ë¥¼ íƒêµ¬í–ˆì–´ìš”."
  },
  {
    type: 'image',
    category: 'í›„ê¸°ì¸ìƒì£¼ì˜',
    image: "https://upload.wikimedia.org/wikipedia/commons/thumb/e/ea/Van_Gogh_-_Starry_Night_-_Google_Art_Project.jpg/1200px-Van_Gogh_-_Starry_Night_-_Google_Art_Project.jpg",
    question: "ë°¤í•˜ëŠ˜ì˜ ë³„ì´ ë§ˆì¹˜ ì‚´ì•„ ì›€ì§ì´ëŠ” ê²ƒì²˜ëŸ¼ ì†Œìš©ëŒì´ì¹˜ê³  ìˆë„¤ìš”! ìì‹ ì˜ ê°•ë ¬í•œ ê°ì •ì„ ë¶“ì§ˆì— ë‹´ì•„ë‚¸ ì´ ì‘ê°€ëŠ” ëˆ„êµ¬ì¼ê¹Œìš”?",
    options: ["íŒŒë¸”ë¡œ í”¼ì¹´ì†Œ", "ì—ë“œë°”ë¥´ ë­‰í¬", "í´ë¡œë“œ ëª¨ë„¤", "ë¹ˆì„¼íŠ¸ ë°˜ ê³ í"],
    answer: 3,
    hint: "í•´ë°”ë¼ê¸°ë¥¼ ì‚¬ë‘í–ˆê³ , ê·€ë¥¼ ë‹¤ì³¤ë˜ ìŠ¬í”ˆ ì‚¬ì—°ì´ ìˆëŠ” í™”ê°€ì˜ˆìš”.",
    rationale: "ë¹ˆì„¼íŠ¸ ë°˜ ê³ íëŠ” í›„ê¸° ì¸ìƒì£¼ì˜ì˜ ëŒ€í‘œ ì£¼ìë¡œ, ì£¼ê´€ì ì¸ ìƒ‰ì±„ì™€ ì—­ë™ì ì¸ í•„ì¹˜ê°€ íŠ¹ì§•ì´ì—ìš”."
  },
  {
    type: 'concept',
    category: 'í‘œí˜„ì£¼ì˜',
    question: "ê·¸ë¦¼ì„ ê·¸ë¦´ ë•Œ ì˜ˆì˜ê²Œ ê·¸ë¦¬ëŠ” ê²ƒë³´ë‹¤ ë‚´ ë§ˆìŒì†ì˜ ë¶ˆì•ˆ, ê³µí¬, ìŠ¬í”” ê°™ì€ ì§„ì§œ ê°ì •ì„ 'í­ë°œ'ì‹œí‚¤ë“¯ í‘œí˜„í•˜ëŠ” ìŠ¤íƒ€ì¼ì„ ë¬´ì—‡ì´ë¼ê³  í• ê¹Œìš”?",
    options: ["ì¸ìƒì£¼ì˜", "ì…ì²´ì£¼ì˜", "í‘œí˜„ì£¼ì˜", "ì‚¬ì‹¤ì£¼ì˜"],
    answer: 2,
    hint: "ë§ˆìŒì˜ ì†Œë¦¬ë¥¼ ë°–ìœ¼ë¡œ 'í‘œí˜„'í•˜ëŠ” ë° ì§‘ì¤‘í•´ìš”.",
    rationale: "í‘œí˜„ì£¼ì˜ëŠ” ì‘ê°€ì˜ ë‚´ë©´ì„¸ê³„ë¥¼ ë“œëŸ¬ë‚´ê¸° ìœ„í•´ í˜•íƒœë¥¼ ì™œê³¡í•˜ê±°ë‚˜ ê°•ë ¬í•œ ìƒ‰ì„ ì‚¬ìš©í•˜ê³¤ í•´ìš”."
  },
  {
    type: 'concept',
    category: 'ì…ì²´ì£¼ì˜',
    question: "ìš°ë¦¬ëŠ” ë³´í†µ í•œ ìª½ì—ì„œë§Œ ì‚¬ë¬¼ì„ ë³´ì£ ? ê·¸ëŸ°ë° ì´ í™”ê°€ë“¤ì€ ì‚¬ë¬¼ì„ ì¡°ê°ì¡°ê° ë‚´ì„œ ì•, ì˜†, ìœ„ ëª¨ìŠµì„ í•œ í™”ë©´ì— ë‹¤ ë³´ì—¬ì£¼ë ¤ê³  í–ˆì–´ìš”. ì´ ë…íŠ¹í•œ ìŠ¤íƒ€ì¼ì€?",
    options: ["ì¸ìƒì£¼ì˜", "ì…ì²´ì£¼ì˜", "ë‚­ë§Œì£¼ì˜", "í›„ê¸°ì¸ìƒì£¼ì˜"],
    answer: 1,
    hint: "ì‚¬ë¬¼ì„ 'ì…ì²´ì 'ìœ¼ë¡œ ë¶„ì„í•´ì„œ ì¬êµ¬ì„±í•˜ëŠ” ë°©ì‹ì´ì—ìš”.",
    rationale: "ì…ì²´ì£¼ì˜(íë¹„ì¦˜)ëŠ” ë‹¤ì‹œì (ì—¬ëŸ¬ ì‹œì )ì„ ë„ì…í•´ í˜„ëŒ€ ë¯¸ìˆ ì˜ ê¸°ì´ˆë¥¼ ë‹¦ì•˜ë‹µë‹ˆë‹¤."
  },
  {
    type: 'image',
    category: 'ì…ì²´ì£¼ì˜',
    image: "https://upload.wikimedia.org/wikipedia/en/1/14/Picasso_The_Weeping_Woman_1937.jpg",
    question: "ì—¬ì¸ì˜ ì–¼êµ´ì´ ë§ˆì¹˜ í¼ì¦ ì¡°ê°ì²˜ëŸ¼ ë‚˜ë‰˜ì–´ ìˆë„¤ìš”. ìŠ¬í””ì„ ì…ì²´ì ìœ¼ë¡œ í‘œí˜„í•œ ì´ ê·¸ë¦¼ì„ ê·¸ë¦° 20ì„¸ê¸° ìµœê³ ì˜ ì²œì¬ í™”ê°€ëŠ”?",
    options: ["í´ë¡œë“œ ëª¨ë„¤", "ë¹ˆì„¼íŠ¸ ë°˜ ê³ í", "íŒŒë¸”ë¡œ í”¼ì¹´ì†Œ", "ì—ë“œë°”ë¥´ ë­‰í¬"],
    answer: 2,
    hint: "ìŠ¤í˜ì¸ ì¶œì‹ ìœ¼ë¡œ 'ì•„ë¹„ë‡½ì˜ ì—¬ì¸ë“¤'ë„ ê·¸ë ¸ì–´ìš”.",
    rationale: "íŒŒë¸”ë¡œ í”¼ì¹´ì†ŒëŠ” í˜•íƒœë¥¼ í•´ì²´í•˜ê³  ê²°í•©í•˜ëŠ” ì…ì²´ì£¼ì˜ ê¸°ë²•ìœ¼ë¡œ 'ìš°ëŠ” ì—¬ì¸'ì„ ê·¸ë ¸ìŠµë‹ˆë‹¤."
  },
  {
    type: 'concept',
    category: 'í›„ê¸°ì¸ìƒì£¼ì˜',
    question: "ì¸ìƒì£¼ì˜ê°€ ë¹›ë§Œ ì«“ì•„ë‹¤ë‹ˆë‹¤ ë³´ë‹ˆ í˜•íƒœê°€ ë„ˆë¬´ íë¦¿í•´ì¡Œë‹¤ê³  ìƒê°í•œ í™”ê°€ë“¤ì´ì—ìš”. ì¡°ê¸ˆ ë” ë‹¨ë‹¨í•œ í˜•íƒœë‚˜ ê°œì¸ì˜ ê°œì„±ì„ ë‹´ìœ¼ë ¤ ë…¸ë ¥í•œ ì´ë“¤ì€?",
    options: ["ê³ ì „ì£¼ì˜", "ë¯¸ë˜ì£¼ì˜", "ì•¼ìˆ˜íŒŒ", "í›„ê¸°ì¸ìƒì£¼ì˜"],
    answer: 3,
    hint: "ì¸ìƒì£¼ì˜ 'ì´í›„'ì— ë‚˜íƒ€ë‚œ ê°œì„± ê°•í•œ í™”ê°€ë“¤ì´ì—ìš”.",
    rationale: "ì„¸ì”, ê³ í, ê³ ê°± ê°™ì€ í›„ê¸° ì¸ìƒì£¼ì˜ìë“¤ì€ ìì‹ ë§Œì˜ ì¡°í˜• ì–¸ì–´ë¥¼ êµ¬ì¶•í–ˆìŠµë‹ˆë‹¤."
  },
  {
    type: 'concept',
    category: 'í‘œí˜„ì£¼ì˜',
    question: "ì—ë“œë°”ë¥´ ë­‰í¬ì˜ 'ì ˆê·œ'ë¼ëŠ” ì‘í’ˆ ê¸°ì–µí•˜ë‚˜ìš”? ë‹¤ë¦¬ ìœ„ì—ì„œ ì–¼êµ´ì„ ê°ì‹¸ê³  ë¹„ëª…ì„ ì§€ë¥´ëŠ” ëª¨ìŠµ! ì´ ì‘í’ˆì€ ì–´ë–¤ ì‚¬ì¡°ì˜ ëŒ€í‘œì‘ì¼ê¹Œìš”?",
    options: ["ì…ì²´ì£¼ì˜", "í‘œí˜„ì£¼ì˜", "ì¸ìƒì£¼ì˜", "ì‹ ê³ ì „ì£¼ì˜"],
    answer: 1,
    hint: "ì¸ê°„ì˜ ê·¼ì›ì ì¸ 'ë¶ˆì•ˆ'ì´ë¼ëŠ” ê°ì •ì„ ì•„ì£¼ ì˜ í‘œí˜„í–ˆì–´ìš”.",
    rationale: "ë­‰í¬ëŠ” í‘œí˜„ì£¼ì˜ì˜ ì„ êµ¬ìë¡œ, ì¸ê°„ì˜ ë‚´ë©´ì  ê³ í†µì„ ì‹œê°ì ìœ¼ë¡œ í˜•ìƒí™”í–ˆìŠµë‹ˆë‹¤."
  },
  {
    type: 'concept',
    category: 'ì…ì²´ì£¼ì˜',
    question: "í”¼ì¹´ì†Œì™€ ë¸Œë¼í¬ ê°™ì€ í™”ê°€ë“¤ì€ ì™œ ì‚¬ë¬¼ì„ ì—¬ëŸ¬ ë°©í–¥ì—ì„œ ë³¸ ê²ƒì²˜ëŸ¼ ê·¸ë ¸ì„ê¹Œìš”? ê°€ì¥ í° ì´ìœ ëŠ” ë¬´ì—‡ì¼ê¹Œìš”?",
    options: ["ê·¸ë¦¬ê¸° ê·€ì°®ì•„ì„œ", "ì‚¬ë¬¼ì˜ ì§„ì‹¤ëœ ëª¨ìŠµì„ ë‹¤ ë‹´ê³  ì‹¶ì–´ì„œ", "ë¬¼ê°ì´ ë¶€ì¡±í•´ì„œ", "ë¶“ì´ ë§ê°€ì ¸ì„œ"],
    answer: 1,
    hint: "í•œ ë©´ë§Œ ë´ì„œëŠ” ê·¸ ì‚¬ë¬¼ì˜ ì§„ì§œ ëª¨ìŠµì„ ì•Œ ìˆ˜ ì—†ë‹¤ê³  ìƒê°í–ˆê±°ë“ ìš”.",
    rationale: "ì…ì²´íŒŒëŠ” 2ì°¨ì› ìº”ë²„ìŠ¤ì— 3ì°¨ì› ëŒ€ìƒì˜ ëª¨ë“  ë©´ì„ ë™ì‹œì— ë³´ì—¬ì£¼ë ¤ëŠ” ì§€ì ì¸ ì‹œë„ë¥¼ í–ˆìŠµë‹ˆë‹¤."
  },
  {
    type: 'summary',
    category: 'ë¯¸ìˆ ì‚¬ ì •ë¦¬',
    question: "ì˜¤ëŠ˜ ë°°ìš´ ë„¤ ê°€ì§€ ì‚¬ì¡° ì¤‘, 'ë¹›ì˜ ë³€í™”'ë¥¼ ê°€ì¥ ì‚¬ë‘í•´ì„œ ì•¼ì™¸ì—ì„œ ì£¼ë¡œ ê·¸ë¦¼ì„ ê·¸ë ¸ë˜ íŒ€ì€ ì–´ë””ì¼ê¹Œìš”? (ë§ˆì§€ë§‰ ë³µìŠµ!)",
    options: ["í‘œí˜„ì£¼ì˜", "ì¸ìƒì£¼ì˜", "ì…ì²´ì£¼ì˜", "í›„ê¸°ì¸ìƒì£¼ì˜"],
    answer: 1,
    hint: "ëª¨ë„¤, ë¥´ëˆ„ì•„ë¥´ê°€ ì†í•œ íŒ€ì´ì—ìš”!",
    rationale: "ì¸ìƒì£¼ì˜ìë“¤ì€ ë¹›ì´ ì‚¬ë¼ì§€ê¸° ì „ì— ë¹¨ë¦¬ ê·¸ë¦¬ë ¤ê³  ìº”ë²„ìŠ¤ë¥¼ ë“¤ê³  ë°–ìœ¼ë¡œ ë‚˜ê°”ë‹µë‹ˆë‹¤."
  }
];

const App = () => {
  const [currentStep, setCurrentStep] = useState('start'); // start, quiz, result
  const [currentIndex, setCurrentIndex] = useState(0);
  const [score, setScore] = useState(0);
  const [selectedOption, setSelectedOption] = useState(null);
  const [isAnswered, setIsAnswered] = useState(false);
  const [showHint, setShowHint] = useState(false);

  const handleStart = () => {
    setCurrentStep('quiz');
    setCurrentIndex(0);
    setScore(0);
  };

  const handleAnswer = (index) => {
    if (isAnswered) return;
    setSelectedOption(index);
    setIsAnswered(true);
    if (index === questions[currentIndex].answer) {
      setScore(prev => prev + 1);
    }
  };

  const handleNext = () => {
    if (currentIndex < questions.length - 1) {
      setCurrentIndex(prev => prev + 1);
      setSelectedOption(null);
      setIsAnswered(false);
      setShowHint(false);
    } else {
      setCurrentStep('result');
    }
  };

  const getCardColor = (category) => {
    switch (category) {
      case 'ì¸ìƒì£¼ì˜': return 'bg-yellow-50 border-yellow-200';
      case 'í›„ê¸°ì¸ìƒì£¼ì˜': return 'bg-blue-50 border-blue-200';
      case 'í‘œí˜„ì£¼ì˜': return 'bg-red-50 border-red-200';
      case 'ì…ì²´ì£¼ì˜': return 'bg-purple-50 border-purple-200';
      default: return 'bg-orange-50 border-orange-200';
    }
  };

  const getTagColor = (category) => {
    switch (category) {
      case 'ì¸ìƒì£¼ì˜': return 'bg-yellow-400 text-yellow-900';
      case 'í›„ê¸°ì¸ìƒì£¼ì˜': return 'bg-blue-400 text-white';
      case 'í‘œí˜„ì£¼ì˜': return 'bg-red-400 text-white';
      case 'ì…ì²´ì£¼ì˜': return 'bg-purple-400 text-white';
      default: return 'bg-orange-400 text-white';
    }
  };

  if (currentStep === 'start') {
    return (
      <div className="flex flex-col items-center justify-center min-h-screen bg-orange-50 p-6 font-sans text-gray-800">
        <div className="w-full max-w-md bg-white rounded-3xl shadow-xl p-8 text-center border-4 border-orange-200">
          <div className="mb-6 flex justify-center">
            <div className="p-4 bg-orange-100 rounded-full">
              <Palette size={64} className="text-orange-500 animate-bounce" />
            </div>
          </div>
          <h1 className="text-3xl font-black text-orange-600 mb-2">ê·¼ëŒ€ ë¯¸ìˆ  ëŒ€íƒí—˜!</h1>
          <p className="text-gray-600 mb-8 leading-relaxed">
            ì¸ìƒì£¼ì˜ë¶€í„° ì…ì²´ì£¼ì˜ê¹Œì§€!<br/>
            ì¬ë¯¸ìˆëŠ” í€´ì¦ˆë¡œ ë¯¸ìˆ  ê³ ìˆ˜ê°€ ë˜ì–´ë³¼ê¹Œìš”? âœ¨
          </p>
          <button 
            onClick={handleStart}
            className="w-full py-4 bg-orange-500 hover:bg-orange-600 text-white font-bold text-xl rounded-2xl shadow-lg transition-transform active:scale-95 flex items-center justify-center gap-2"
          >
            í€´ì¦ˆ ì‹œì‘í•˜ê¸° <ChevronRight />
          </button>
        </div>
        <p className="mt-8 text-sm text-gray-400 flex items-center gap-1">
          <Brush size={14} /> ê³ ë“±í•™êµ ë¯¸ìˆ  ì‹œê°„ìš©
        </p>
      </div>
    );
  }

  if (currentStep === 'result') {
    return (
      <div className="flex flex-col items-center justify-center min-h-screen bg-indigo-50 p-6 text-gray-800">
        <div className="w-full max-w-md bg-white rounded-3xl shadow-xl p-8 text-center border-4 border-indigo-200">
          <div className="mb-6 flex justify-center">
            <div className="p-4 bg-indigo-100 rounded-full">
              <Award size={64} className="text-indigo-500" />
            </div>
          </div>
          <h2 className="text-2xl font-bold mb-1">íƒí—˜ ì™„ë£Œ!</h2>
          <div className="text-5xl font-black text-indigo-600 my-6">
            {score} / {questions.length}
          </div>
          <p className="text-gray-600 mb-8 px-4 leading-relaxed">
            {score === questions.length ? "ì™€ìš°! ë‹¹ì‹ ì€ ê·¼ëŒ€ ë¯¸ìˆ  ë§ˆìŠ¤í„°ì˜ˆìš”! ğŸ†" : 
             score >= 7 ? "í›Œë¥­í•´ìš”! ë¯¸ìˆ  ê°ê°ì´ ì•„ì£¼ ë›°ì–´ë‚œê±¸ìš”? ğŸ˜Š" :
             "ì¡°ê¸ˆë§Œ ë” ê³µë¶€í•˜ë©´ ì™„ë²½í•œ ë¯¸ìˆ  ê³ ìˆ˜ê°€ ë  ìˆ˜ ìˆì–´ìš”! ğŸ’ª"}
          </p>
          <button 
            onClick={() => setCurrentStep('start')}
            className="w-full py-4 bg-indigo-500 hover:bg-indigo-600 text-white font-bold text-xl rounded-2xl shadow-lg transition-transform active:scale-95 flex items-center justify-center gap-2"
          >
            ë‹¤ì‹œ ë„ì „í•˜ê¸° <RefreshCcw size={20} />
          </button>
        </div>
      </div>
    );
  }

  const currentQ = questions[currentIndex];

  return (
    <div className="min-h-screen bg-slate-50 p-4 pb-12 font-sans flex flex-col items-center">
      {/* Header Info */}
      <div className="w-full max-w-md flex justify-between items-center mb-4 px-2">
        <span className="text-xs font-bold text-gray-400 tracking-widest uppercase">
          Art History Quiz
        </span>
        <div className="flex gap-1">
          {questions.map((_, i) => (
            <div 
              key={i} 
              className={`h-1.5 w-4 rounded-full transition-colors duration-300 ${
                i < currentIndex ? 'bg-green-400' : i === currentIndex ? 'bg-orange-400' : 'bg-gray-200'
              }`}
            />
          ))}
        </div>
      </div>

      <div className={`w-full max-w-md rounded-3xl shadow-lg overflow-hidden border-2 ${getCardColor(currentQ.category)} transition-colors duration-500`}>
        {/* Category Tag */}
        <div className="px-6 pt-6">
          <span className={`inline-block px-3 py-1 rounded-full text-xs font-black uppercase tracking-wider ${getTagColor(currentQ.category)}`}>
            {currentQ.category}
          </span>
        </div>

        {/* Question Area */}
        <div className="p-6">
          <h3 className="text-xl font-bold text-gray-800 leading-snug mb-4">
            {currentQ.question}
          </h3>

          {/* Optional Image */}
          {currentQ.image && (
            <div className="mb-6 rounded-2xl overflow-hidden shadow-md border-2 border-white aspect-[4/3] bg-gray-100">
              <img 
                src={currentQ.image} 
                alt="Artwork" 
                className="w-full h-full object-cover"
                onError={(e) => { e.target.src = 'https://via.placeholder.com/400x300?text=Image+Loading...'; }}
              />
            </div>
          )}

          {/* Options */}
          <div className="space-y-3">
            {currentQ.options.map((opt, i) => (
              <button
                key={i}
                onClick={() => handleAnswer(i)}
                disabled={isAnswered}
                className={`w-full p-4 rounded-2xl text-left font-semibold transition-all duration-200 border-2 ${
                  isAnswered 
                    ? i === currentQ.answer 
                      ? 'bg-green-100 border-green-500 text-green-700' 
                      : i === selectedOption 
                        ? 'bg-red-100 border-red-500 text-red-700' 
                        : 'bg-white border-gray-100 text-gray-300'
                    : 'bg-white border-gray-200 hover:border-orange-300 hover:bg-orange-50 active:scale-[0.98]'
                }`}
              >
                <div className="flex items-center gap-3">
                  <div className={`w-8 h-8 rounded-full flex items-center justify-center text-sm border-2 ${
                    isAnswered && i === currentQ.answer ? 'bg-green-500 text-white border-green-500' : 'bg-gray-50 text-gray-400 border-gray-200'
                  }`}>
                    {String.fromCharCode(65 + i)}
                  </div>
                  {opt}
                </div>
              </button>
            ))}
          </div>

          {/* Hint & Rationale */}
          <div className="mt-6 min-h-[60px]">
            {!isAnswered ? (
              <button 
                onClick={() => setShowHint(!showHint)}
                className="text-sm font-bold text-gray-400 flex items-center gap-1 hover:text-orange-500 transition-colors"
              >
                <Info size={16} /> {showHint ? 'íŒíŠ¸ ìˆ¨ê¸°ê¸°' : 'íŒíŠ¸ ë³´ê¸°'}
              </button>
            ) : (
              <div className="bg-white/60 p-4 rounded-2xl border-2 border-dashed border-gray-200 animate-in fade-in slide-in-from-bottom-2">
                <p className="text-sm text-gray-600 leading-relaxed">
                  <span className="font-bold text-gray-800">ì•Œì•„ë‘ê¸°:</span> {currentQ.rationale}
                </p>
              </div>
            )}

            {!isAnswered && showHint && (
              <p className="mt-2 p-3 bg-yellow-100 text-yellow-800 text-sm rounded-xl font-medium animate-in zoom-in-95">
                ğŸ’¡ {currentQ.hint}
              </p>
            )}
          </div>
        </div>
      </div>

      {/* Next Button */}
      {isAnswered && (
        <div className="w-full max-w-md mt-6 animate-in slide-in-from-bottom-4">
          <button 
            onClick={handleNext}
            className="w-full py-4 bg-gray-900 text-white font-bold text-xl rounded-2xl shadow-xl flex items-center justify-center gap-2 active:scale-95 transition-transform"
          >
            {currentIndex < questions.length - 1 ? 'ë‹¤ìŒ ë¬¸ì œ' : 'ê²°ê³¼ í™•ì¸'} <ChevronRight />
          </button>
        </div>
      )}

      {/* Footer Support */}
      <div className="mt-8 text-center px-4">
        <p className="text-xs text-gray-400 flex items-center justify-center gap-2">
          Made with <Heart size={10} className="text-red-300 fill-red-300" /> for Art Students
        </p>
      </div>
    </div>
  );
};
